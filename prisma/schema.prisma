// Prisma Schema pour Juice Finder France
// Base de données MySQL avec tous les établissements

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("BDD_POSTGRES_URL")
}

model Restaurant {
  id      Int     @id @default(autoincrement())
  name    String? @db.VarChar(500)
  type    String? @db.VarChar(500)
  phone   String? @db.VarChar(500)
  website String? @db.VarChar(500)
  email   String? @db.VarChar(500)
  cuisine String? @db.VarChar(500)

  // Adresse
  street      String? @db.VarChar(500)
  housenumber String? @db.VarChar(500)
  postcode    String? @db.VarChar(500)
  city        String? @db.VarChar(500)
  department  String? @db.VarChar(500)
  region      String? @db.VarChar(500)

  // Coordonnées géographiques
  lat Float?
  lon Float?

  // Métadonnées
  meta_osm_id   String? @unique @db.VarChar(500)
  meta_osm_type String? @db.VarChar(500)
  osm_id        String? @db.VarChar(500)
  osm_type      String? @db.VarChar(500)

  // Informations supplémentaires
  opening_hours   String? @db.Text
  wheelchair      String? @db.VarChar(500)
  delivery        String? @db.VarChar(500)
  takeaway        String? @db.VarChar(500)
  outdoor_seating String? @db.VarChar(500)

  // Dates de suivi
  last_update DateTime? @default(now())
  created_at  DateTime  @default(now())

  @@index([type])
  @@index([region])
  @@index([department])
  @@index([city])
  @@index([name])
  @@map("restaurants")
}
